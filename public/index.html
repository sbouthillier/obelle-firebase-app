<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ESP IoT Firebase App</title>

  <!-- update the version number as needed -->
  <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-app.js"></script>

  <!-- include only the Firebase features as you need -->
  <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-database.js"></script>

  <script>
    // REPLACE WITH YOUR APP CONFIG OBJECT
    var firebaseConfig = {
      apiKey: "AIzaSyAq9ehul4e8gp_lkTB6gSzZMIQicYbNEbI",
      authDomain: "obelle-control.firebaseapp.com",
      databaseURL: "https://obelle-control-default-rtdb.firebaseio.com",
      projectId: "obelle-control",
      storageBucket: "obelle-control.appspot.com",
      messagingSenderId: "433509224781",
      appId: "1:433509224781:web:d6d7960c4ef6849841a704"
    };
    // Initialize firebase
    firebase.initializeApp(firebaseConfig); // Make auth and database references const auth = firebase.auth();
    // Make auth and database references 
    const auth = firebase.auth();
    const db = firebase.database();
  </script>

  <!-- include highchartsjs to build the charts-->
  <script src="https://code.highcharts.com/highcharts.js"></script>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>

<body class="min-vh-100 d-flex flex-column justify-content-between">

  <!--NAVBAR-->
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container d-flex justify-content-between">
      <div class="navbar-header">
        <a class="navbar-brand" href="#">
          <strong>O'belle App</strong>
        </a>
      </div>
    </div>
  </nav>

  <!-- PAGE CONTENT -->
  <!-- Content if user is logged in -->
  <div class="container mt-4 mb-4" id="dashboardSignedIn" style="display: none;">

    <!--Container for cards (lastest readings)-->
    <!-- Temperature -->
    <div class="row mb-3" id="readings-cards"> 
      <div class="col-sm mb-3 text-center">
        <div class="card">
          <div class="card-header">
            <h5>Température</h5>
          </div>
          <div class="card-body">
            <h2 class="card-title"><span id="temperature"></span> ºC</h2>
          </div>
        </div>
      </div>
    </div>
     
     <!-- Container for latest update -->
    <div class="row mb-3">
      <div class="col-mb-3 text-center">
        <!-- Latest update -->
        <div class="card">
          <div class="card-header">
            <h4>Dernière mise-à-jour</h4>
          </div>
          <p id="last-update" class="m-2 jus"></p>
        </div>
      </div>
    </div>
    
     <!--Container for charts-->
    <!-- Temperature Chart-->
    <div class="row mb-3" id="charts-container"> 
      <div class="col-sm mb-3 text-center">
        <div class="card">
          <h5 class="card-header">Graphique</h5>
          <div class="card-body">
            <div id="chart-temperature" class="chart-container"></div>
          </div>
        </div>
      </div>
    </div>
   
    <script> /*** Commented out
    <!--Container for buttons to handle data-->
    <div class="row mb-3">
      <div class="col-sm mb-3 text-center">
        <button id="view-data-button" class="btn btn-primary btn-sm">Voir toutes les données</button>
        <button id="hide-data-button" class="btn btn-secondary btn-sm" style="display: none;" >Cacher les données</button>
      </div>
    </div>

    <!--Container for table with logs of sensor readings-->
    <div class="row mb-3" id="table-container">
      <div class="col-mb-3 text-center">
        <!-- Table with Sensor Readings -->
        <div class="card">
          <table class="table table-striped">
            <thead>
              <tr id="theader">
                <th scope="col">Heure</th>
                <th scope="col">Température ºC</th>
              </tr>
            </thead>
            <tbody id="table-body">
            </tbody>
          </table>
          <!--Button to load more data-->
          <button id="load-data" class="btn btn-lg btn-block btn-success">Plus de résultats...</button>
        </div>
      </div>
    </div>
    ***/ </script>
 
  <!--Footer-->
  <div class="container footer navbar-fixed-bottom bg-light">
    <footer class=" text-center text-lg-start">
      <!-- Copyright -->
      <div class="text-center p-3">
        Powered by:
        <a class="text-dark">Sebbtek</a>
      </div>
      <!-- Copyright -->
    </footer>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj"
    crossorigin="anonymous"></script>
  <script src="scripts/auth.js"></script>
  <script src="scripts/charts-definitions.js"></script>
  <script src="scripts/index.js"></script>
</body>

</html>